{"version":3,"file":"static/js/718.b826c99e.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesGallery/MoviesGallery.module.css?276e","components/MoviesGallery/MoviesGallery.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","helpers/service-api.js","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","pages/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"gallery_list\":\"MoviesGallery_gallery_list__SESSQ\",\"gallery_item\":\"MoviesGallery_gallery_item__YCtQm\"};","import { Link, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport css from './MoviesGallery.module.css';\n\nconst ListLink = styled(Link)`\n  text-decoration: none;\n  color: #fff;\n`;\n\nconst MoviesGallery = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul className={css.gallery_list}>\n      {movies.map(({ id, title, name }) => (\n        <li className={css.gallery_item} key={id}>\n          <ListLink to={`/movies/${id}`} state={{ from: location }}>\n            {title ?? name}\n          </ListLink>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MoviesGallery;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const API_KEY = 'bca00b9ffd93ea25185e7e4e149d031e';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst POPULAR = 'trending/all/day';\nconst options = {\n  method: 'GET',\n  Authorization:\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiY2EwMGI5ZmZkOTNlYTI1MTg1ZTdlNGUxNDlkMDMxZSIsInN1YiI6IjY1OWQ3MDE4MjMxNjhjMDE0OTE4YmJjNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.8gl9eklQfO5psef9tvqzllBAi4Zu-LhVXx8kFEuwEok',\n};\n\nexport default class ServiceApi {\n  async getFetchPopularMovie() {\n    const url = `${BASE_URL}${POPULAR}?api_key=${API_KEY}`;\n\n    const response = await fetch(url, options);\n    if (!response.ok) {\n      return Promise.reject(new Error('Oops, something went wrong! ðŸ˜¥'));\n    }\n    const data = await response.json();\n    console.log(data);\n    return data;\n  }\n\n  async getMovieByQuery(searchQuery) {\n    const url = `${BASE_URL}search/movie?api_key=${API_KEY}&query=${searchQuery}`;\n\n    const response = await fetch(url, options);\n    if (!response.ok) {\n      return Promise.reject(new Error('Oops, something went wrong! ðŸ˜¥'));\n    }\n    const data = await response.json();\n    console.log(data);\n    return data;\n  }\n\n  async getMovieById(id) {\n    const url = `${BASE_URL}movie/${id}?api_key=${API_KEY}`;\n\n    const response = await fetch(url, options);\n    if (!response.ok) {\n      return Promise.reject(new Error('Oops, something went wrong! ðŸ˜¥'));\n    }\n    const data = await response.json();\n    console.log(data);\n    return data;\n  }\n\n  async getActorsById(id) {\n    const url = `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}`;\n\n    const response = await fetch(url, options);\n    if (!response.ok) {\n      return Promise.reject(new Error('Oops, something went wrong! ðŸ˜¥'));\n    }\n    const data = await response.json();\n    console.log(data);\n    return data;\n  }\n\n  async getReviewById(id) {\n    const url = `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}`;\n\n    const response = await fetch(url, options);\n    if (!response.ok) {\n      return Promise.reject(new Error('Oops, something went wrong! ðŸ˜¥'));\n    }\n    const data = await response.json();\n    console.log(data);\n    return data;\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Searchbar_form__D-hp5\",\"input\":\"Searchbar_input__19umw\",\"button\":\"Searchbar_button__nkcjk\"};","import { useState } from 'react';\nimport css from './Searchbar.module.css';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleChange = e => {\n    const { value } = e.target;\n    setQuery(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <form className={css.form} onSubmit={handleSubmit}>\n      <input\n        className={css.input}\n        onChange={handleChange}\n        type=\"text\"\n        value={query}\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n      />\n      <button className={css.button} type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default Searchbar;\n","import Searchbar from 'components/Searchbar/Searchbar';\nimport { useEffect, useState } from 'react';\nimport ServiceApi from '../helpers/service-api';\nimport MoviesGallery from 'components/MoviesGallery/MoviesGallery';\nimport css from './styles.module.css';\nimport Loader from 'components/Loader/Loader';\nimport { useSearchParams } from 'react-router-dom';\n\nconst TheMovieApi = new ServiceApi();\n\nconst Movies = () => {\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState('');\n  const [movies, setMovies] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieId = searchParams.get('query');\n\n  useEffect(() => {\n    if (movieId === null) {\n      return;\n    }\n    setStatus('pending');\n    TheMovieApi.getMovieByQuery(movieId)\n      .then(data => {\n        const { results } = data;\n        setMovies([...results]);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setError(error.message);\n        setStatus('rejected');\n      });\n  }, [movieId]);\n\n  const onSubmit = query => {\n    query ? setSearchParams({ query }) : setSearchParams({});\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={onSubmit} />\n      {status === 'pending' && (\n        <div className={css.Loader}>\n          <Loader />\n        </div>\n      )}\n      {movies.length > 0 && <MoviesGallery movies={movies} />}\n      {status === 'resolved' && movies.length === 0 && (\n        <p>\n          Sorry <b>\"{movieId}\"</b> not found\n        </p>\n      )}\n      {status === 'rejected' && <p>{error}</p>}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["ListLink","styled","Link","_templateObject","_taggedTemplateLiteral","_ref","movies","location","useLocation","_jsx","className","css","children","map","_ref2","id","title","name","to","concat","state","from","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","API_KEY","BASE_URL","options","method","Authorization","ServiceApi","_classCallCheck","_createClass","_getFetchPopularMovie","_regeneratorRuntime","_callee","url","response","data","_context","prev","next","fetch","sent","ok","abrupt","Error","json","console","log","stop","_getMovieByQuery","_callee2","searchQuery","_context2","_x","_getMovieById","_callee3","_context3","_x2","_getActorsById","_callee4","_context4","_x3","_getReviewById","_callee5","_context5","_x4","onSubmit","_useState","useState","_useState2","_slicedToArray","query","setQuery","_jsxs","e","preventDefault","onChange","target","type","autoComplete","autoFocus","placeholder","TheMovieApi","status","setStatus","_useState3","_useState4","setError","_useState5","_useState6","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","movieId","get","useEffect","getMovieByQuery","results","_toConsumableArray","catch","message","_Fragment","Searchbar","Loader","length","MoviesGallery"],"sourceRoot":""}