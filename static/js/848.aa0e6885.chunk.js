"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[848],{943:function(e,t,n){function r(e,t,n,r,s,a,o){try{var i=e[a](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,s)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var o=e.apply(t,n);function i(e){r(o,s,a,i,c,"next",e)}function c(e){r(o,s,a,i,c,"throw",e)}i(void 0)}))}}n.d(t,{Z:function(){return p}});var a=n(671),o=n(144),i=n(757),c=n.n(i),l="bca00b9ffd93ea25185e7e4e149d031e",u="https://api.themoviedb.org/3/",d={method:"GET",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiY2EwMGI5ZmZkOTNlYTI1MTg1ZTdlNGUxNDlkMDMxZSIsInN1YiI6IjY1OWQ3MDE4MjMxNjhjMDE0OTE4YmJjNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.8gl9eklQfO5psef9tvqzllBAi4Zu-LhVXx8kFEuwEok"},p=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,[{key:"getFetchPopularMovie",value:function(){var e=s(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(u).concat("trending/all/day","?api_key=").concat(l),e.next=3,fetch(t,d);case 3:if((n=e.sent).ok){e.next=6;break}return e.abrupt("return",Promise.reject(new Error("Oops, something went wrong! \ud83d\ude25")));case 6:return e.next=8,n.json();case 8:return r=e.sent,console.log(r),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getMovieByQuery",value:function(){var e=s(c().mark((function e(t){var n,r,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(u,"search/movie?api_key=").concat(l,"&query=").concat(t),e.next=3,fetch(n,d);case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",Promise.reject(new Error("Oops, something went wrong! \ud83d\ude25")));case 6:return e.next=8,r.json();case 8:return s=e.sent,console.log(s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieById",value:function(){var e=s(c().mark((function e(t){var n,r,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(u,"movie/").concat(t,"?api_key=").concat(l),e.next=3,fetch(n,d);case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",Promise.reject(new Error("Oops, something went wrong! \ud83d\ude25")));case 6:return e.next=8,r.json();case 8:return s=e.sent,console.log(s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getActorsById",value:function(){var e=s(c().mark((function e(t){var n,r,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(u,"movie/").concat(t,"/credits?api_key=").concat(l),e.next=3,fetch(n,d);case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",Promise.reject(new Error("Oops, something went wrong! \ud83d\ude25")));case 6:return e.next=8,r.json();case 8:return s=e.sent,console.log(s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReviewById",value:function(){var e=s(c().mark((function e(t){var n,r,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(u,"movie/").concat(t,"/reviews?api_key=").concat(l),e.next=3,fetch(n,d);case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",Promise.reject(new Error("Oops, something went wrong! \ud83d\ude25")));case 6:return e.next=8,r.json();case 8:return s=e.sent,console.log(s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},848:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r,s,a=n(439),o=n(791),i=n(689),c=n(943),l=n(168),u=n(87),d=n(924),p="MovieDetailsItem_conteiner__REB8e",v="MovieDetailsItem_wrap_conteiner__xA49T",h="MovieDetailsItem_image__No7+J",f="MovieDetailsItem_content_conteiner__mQrEp",m="MovieDetailsItem_content_title__y6QFe",x="MovieDetailsItem_title_year__6hDq8",_="MovieDetailsItem_content_subtitles__zJ8Hh",j="MovieDetailsItem_content_text__i5Ssa",g="MovieDetailsItem_ganres_wraper__zYzfW",w="MovieDetailsItem_bottom_conteiner__htLMR",k="MovieDetailsItem_bottom_title__OpdiS",b="MovieDetailsItem_bottom_list__sTPmh",y=n(184),I=(0,d.ZP)(u.rU)(r||(r=(0,l.Z)(["\n  text-decoration: none;\n  padding: 5px 20px;\n  background-color: transparent;\n  color: #fff;\n  border: 2px solid #fff;\n  border-radius: 10px;\n  font-size: 18px;\n"]))),N=(0,d.ZP)(u.OL)(s||(s=(0,l.Z)(["\n  text-decoration: none;\n  color: #fff;\n  font-size: 20px;\n  font-weight: 700;\n  letter-spacing: 0.06em;\n  &.active {\n    border: 1px solid #fff;\n    border-bottom: none;\n    padding: 0 15px;\n    color: orange;\n  }\n"]))),M=function(e){var t,n,r=e.movie,s=(0,i.TH)(),a=(0,o.useRef)(null!==(t=null===(n=s.state)||void 0===n?void 0:n.from)&&void 0!==t?t:"/movies"),c=r.id,l=r.title,u=r.poster_path,d=r.genres,M=r.overview,Z=r.release_date,D=r.vote_average,E=new Date(Z).getFullYear(),O=Math.round(10*D)+"%";return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:p,children:[(0,y.jsx)(I,{to:a.current,children:"Go back"}),(0,y.jsxs)("div",{className:v,children:[(0,y.jsx)("div",{children:(0,y.jsx)("img",{className:h,src:u?"https://image.tmdb.org/t/p/w500/".concat(u):"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700",alt:"poster",width:250})}),(0,y.jsxs)("div",{className:f,children:[(0,y.jsxs)("h1",{className:m,children:[l,!isNaN(E)&&(0,y.jsxs)("span",{className:x,children:["(",E,")"]})]}),(0,y.jsxs)("p",{className:j,children:[(0,y.jsx)("span",{className:_,children:"User score: "}),O]}),(0,y.jsx)("p",{className:j,children:(0,y.jsx)("span",{className:_,children:"Owerviev:"})}),(0,y.jsx)("p",{className:j,children:M}),d.length>0&&(0,y.jsxs)("div",{className:g,children:[(0,y.jsx)("div",{children:(0,y.jsx)("span",{className:_,children:"Genres: "})}),(0,y.jsx)("div",{children:d.map((function(e){var t=e.id,n=e.name;return(0,y.jsx)("span",{className:j,children:n},t)}))})]})]})]})]},c),(0,y.jsxs)("div",{className:w,children:[(0,y.jsx)("p",{className:k,children:"Additional information:"}),(0,y.jsxs)("ul",{className:b,children:[(0,y.jsx)("li",{children:(0,y.jsx)(N,{to:"cast",children:"Cast"})}),(0,y.jsx)("li",{children:(0,y.jsx)(N,{to:"reviews",children:"Reviews"})})]})]})]})},Z=n(973),D=n(971),E=new c.Z,O=function(){var e=(0,o.useState)(null),t=(0,a.Z)(e,2),n=t[0],r=t[1],s=(0,o.useState)("idle"),c=(0,a.Z)(s,2),l=c[0],u=c[1],d=(0,o.useState)(""),p=(0,a.Z)(d,2),v=p[0],h=p[1],f=(0,i.UO)().movieId;return(0,o.useEffect)((function(){E.getMovieById(f).then((function(e){var t=e.id,n=e.title,s=e.poster_path,a=e.genres,o=e.overview,i=e.release_date,c=e.vote_average;r({id:t,title:n,poster_path:s,genres:a,overview:o,release_date:i,vote_average:c}),u("resolved")})).catch((function(e){h(e.message),u("rejected")}))}),[f]),console.log(n),(0,y.jsxs)("div",{children:["resolved"===l&&(0,y.jsx)(M,{movie:n}),"rejected"===l&&(0,y.jsx)("p",{children:v}),(0,y.jsx)(o.Suspense,{fallback:(0,y.jsx)("div",{className:D.Z.Loader,children:(0,y.jsx)(Z.Z,{})}),children:(0,y.jsx)(i.j3,{})})]})}}}]);
//# sourceMappingURL=848.aa0e6885.chunk.js.map