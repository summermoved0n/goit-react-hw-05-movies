{"version":3,"file":"static/js/77.b222ce9c.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","helpers/service-api.js","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","webpack://react-homework-template/./src/components/MoviesGallery/MoviesGallery.module.css?276e","components/MoviesGallery/MoviesGallery.jsx","pages/Movies.jsx"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const API_KEY = 'bca00b9ffd93ea25185e7e4e149d031e';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst POPULAR = 'trending/all/day';\nconst options = {\n  method: 'GET',\n  Authorization:\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiY2EwMGI5ZmZkOTNlYTI1MTg1ZTdlNGUxNDlkMDMxZSIsInN1YiI6IjY1OWQ3MDE4MjMxNjhjMDE0OTE4YmJjNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.8gl9eklQfO5psef9tvqzllBAi4Zu-LhVXx8kFEuwEok',\n};\n\nexport default class ServiceApi {\n  async getFetchPopularMovie() {\n    const url = `${BASE_URL}${POPULAR}?api_key=${API_KEY}`;\n\n    const response = await fetch(url, options);\n    if (!response.ok) {\n      return Promise.reject(new Error('Oops, something went wrong! ðŸ˜¥'));\n    }\n    const data = await response.json();\n    console.log(data);\n    return data;\n  }\n\n  async getMovieByQuery(searchQuery) {\n    const url = `${BASE_URL}search/movie?api_key=${API_KEY}&query=${searchQuery}`;\n\n    const response = await fetch(url, options);\n    if (!response.ok) {\n      return Promise.reject(new Error('Oops, something went wrong! ðŸ˜¥'));\n    }\n    const data = await response.json();\n    console.log(data);\n    return data;\n  }\n\n  async getMovieById(id) {\n    const url = `${BASE_URL}movie/${id}?api_key=${API_KEY}`;\n\n    const response = await fetch(url, options);\n    if (!response.ok) {\n      return Promise.reject(new Error('Oops, something went wrong! ðŸ˜¥'));\n    }\n    const data = await response.json();\n    console.log(data);\n    return data;\n  }\n\n  async getActorsById(id) {\n    const url = `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}`;\n\n    const response = await fetch(url, options);\n    if (!response.ok) {\n      return Promise.reject(new Error('Oops, something went wrong! ðŸ˜¥'));\n    }\n    const data = await response.json();\n    console.log(data);\n    return data;\n  }\n\n  async getReviewById(id) {\n    const url = `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}`;\n\n    const response = await fetch(url, options);\n    if (!response.ok) {\n      return Promise.reject(new Error('Oops, something went wrong! ðŸ˜¥'));\n    }\n    const data = await response.json();\n    console.log(data);\n    return data;\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Searchbar_form__D-hp5\",\"input\":\"Searchbar_input__19umw\",\"button\":\"Searchbar_button__nkcjk\"};","import { useState } from 'react';\nimport css from './Searchbar.module.css';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleChange = e => {\n    const { value } = e.target;\n    setQuery(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <form className={css.form} onSubmit={handleSubmit}>\n      <input\n        className={css.input}\n        onChange={handleChange}\n        type=\"text\"\n        value={query}\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n      />\n      <button className={css.button} type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default Searchbar;\n","// extracted by mini-css-extract-plugin\nexport default {\"gallery_list\":\"MoviesGallery_gallery_list__SESSQ\",\"gallery_item\":\"MoviesGallery_gallery_item__YCtQm\"};","import { Link, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport css from './MoviesGallery.module.css';\n\nconst ListLink = styled(Link)`\n  text-decoration: none;\n  color: #fff;\n`;\n\nconst MoviesGallery = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul className={css.gallery_list}>\n      {movies.map(({ id, title }) => (\n        <li className={css.gallery_item} key={id}>\n          <ListLink to={`${id}`} state={{ from: location }}>\n            {title}\n          </ListLink>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MoviesGallery;\n","import Searchbar from 'components/Searchbar/Searchbar';\nimport { useEffect, useState } from 'react';\nimport ServiceApi from '../helpers/service-api';\nimport MoviesGallery from 'components/MoviesGallery/MoviesGallery';\nimport css from './styles.module.css';\nimport Loader from 'components/Loader/Loader';\nimport { useSearchParams } from 'react-router-dom';\n\nconst TheMovieApi = new ServiceApi();\n\nconst Movies = () => {\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState('');\n  const [movies, setMovies] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieId = searchParams.get('query');\n\n  useEffect(() => {\n    if (movieId === null) {\n      return;\n    }\n    setStatus('pending');\n    TheMovieApi.getMovieByQuery(movieId)\n      .then(data => {\n        const { results } = data;\n        setMovies([...results]);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setError(error.message);\n        setStatus('rejected');\n      });\n  }, [movieId]);\n\n  const onSubmit = query => {\n    query ? setSearchParams({ query }) : setSearchParams({});\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={onSubmit} />\n      {status === 'pending' && (\n        <div className={css.Loader}>\n          <Loader />\n        </div>\n      )}\n      {movies.length > 0 && <MoviesGallery movies={movies} />}\n      {status === 'resolved' && movies.length === 0 && (\n        <p>\n          Sorry <b>\"{movieId}\"</b> not found\n        </p>\n      )}\n      {status === 'rejected' && <p>{error}</p>}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","API_KEY","BASE_URL","options","method","Authorization","ServiceApi","_classCallCheck","_createClass","_getFetchPopularMovie","_regeneratorRuntime","_callee","url","response","data","_context","prev","next","concat","fetch","sent","ok","abrupt","Error","json","console","log","stop","_getMovieByQuery","_callee2","searchQuery","_context2","_x","_getMovieById","_callee3","id","_context3","_x2","_getActorsById","_callee4","_context4","_x3","_getReviewById","_callee5","_context5","_x4","_ref","onSubmit","_useState","useState","_useState2","_slicedToArray","query","setQuery","_jsxs","className","css","e","preventDefault","children","_jsx","onChange","target","type","autoComplete","autoFocus","placeholder","ListLink","styled","Link","_templateObject","_taggedTemplateLiteral","movies","location","useLocation","map","_ref2","title","to","state","from","TheMovieApi","status","setStatus","_useState3","_useState4","setError","_useState5","_useState6","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","movieId","get","useEffect","getMovieByQuery","results","_toConsumableArray","catch","message","_Fragment","Searchbar","Loader","length","MoviesGallery"],"sourceRoot":""}